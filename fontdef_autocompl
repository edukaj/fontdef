# file: fontdef_autocompletition 
# fontdef parameter-completion

#set -x

_fontdef ()   #  By convention, the function name
{                 #+ starts with an underscore.
  local cur prev opts base
  # Pointer to current completion word.
  # By convention, it's named "cur" but this isn't strictly necessary.

  COMPREPLY=()   # Array variable storing the possible completions.

  cur=${COMP_WORDS[COMP_CWORD]}
  prev="${COMP_WORDS[COMP_CWORD-1]}"
  opts="-h --help -i --input-ttf  -f --font -image-filename -s --size -r --resolution -o --output -a --append-mode -v --verbose -c --codepoint"

  case "$cur" in
    -*)
      COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
      return 0
      ;;
  esac
  
#  case "$prev" in
#  --input-ttf)
#     complete -d
#     return 0
#     ;;
#  esac
}

complete -F _fontdef -o filenames ./fontdef
#        ^^ ^^^^^^^^^^^^  Invokes the function _fontdef.
